<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sdk="clr-namespace:Jellyfin.Sdk;assembly=Jellyfin.Sdk"
                    xmlns:asyncImageLoader="clr-namespace:AsyncImageLoader;assembly=AsyncImageLoader.Avalonia"
                    xmlns:markupExtensions="clr-namespace:Jellyfin.Avalonia.MarkupExtensions"
                    xmlns:facades="clr-namespace:Jellyfin.Avalonia.Views.Facades">
    <DataTemplate x:Key="PosterCardDataTemplate"
                  x:DataType="sdk:BaseItemDto">
        <Border x:Name="PosterCardTemplate">
            <Interaction.Behaviors>
                <EventTriggerBehavior EventName="Tapped"
                                      SourceObject="{Binding #PosterCardTemplate}">
                    <InvokeCommandAction Command="{Binding $parent[facades:BaseUserView].BaseViewModel.NavigateToItemCommand}"
                                         CommandParameter="{Binding .}" />
                </EventTriggerBehavior>
            </Interaction.Behaviors>
            <StackPanel Orientation="Vertical"
                        Classes="poster-card">
                <Image asyncImageLoader:ImageLoader.Source="{Binding .,
                    Converter={StaticResource PrimaryImageSourceConverter},
                    ConverterParameter={markupExtensions:Int32 300}}" />
                <TextBlock HorizontalAlignment="Center"
                           TextTrimming="CharacterEllipsis"
                           Text="{Binding ., Converter={StaticResource BaseItemDtoCardTitleConverter}}" />
                <TextBlock HorizontalAlignment="Center"
                           TextTrimming="CharacterEllipsis"
                           Text="{Binding ., Converter={StaticResource BaseItemDtoCardDescriptionConverter}}" />
            </StackPanel>
        </Border>
    </DataTemplate>
</ResourceDictionary>

